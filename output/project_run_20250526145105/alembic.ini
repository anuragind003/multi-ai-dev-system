[alembic]
# Path to the migration scripts directory.
script_location = alembic

# A base production environment configuration.
# This is the default section used by 'alembic upgrade' and 'alembic downgrade'.
# It is also the default for 'alembic revision --autogenerate'.

# The URL to the database. This is typically loaded from an environment variable
# or a separate configuration file in a real application (e.g., via env.py).
# For demonstration, a placeholder URL is provided. In a real setup,
# alembic/env.py would read this from an environment variable like DATABASE_URL.
# The `+psycopg2` specifies the driver for PostgreSQL.
sqlalchemy.url = postgresql+psycopg2://postgres:password@localhost:5432/cdp_db

# file_template controls the naming of new migration files.
# %%(rev)s is the revision ID, %%(year)s%%(month)s%%(day)s_%%(hour)s%%(minute)s%%(second)s is the timestamp,
# and %%(slug)s is a user-provided description.
file_template = %%(rev)s_%%(year)s%%(month)s%%(day)s_%%(hour)s%%(minute)s%%(second)s_%%(slug)s

# Version locations (where migration scripts are stored).
# By default, it's 'alembic/versions'.
version_locations = %(script_location)s/versions

# Set to 'true' to enable 'autogenerate' feature.
# This allows Alembic to automatically detect schema changes based on your models.
autogenerate = true

# Logging configuration
[loggers]
keys = root,sqlalchemy,alembic

[handler_console]
class = StreamHandler
args = (sys.stderr,)
level = NOTSET
formatter = generic

[formatter_generic]
format = %(levelname)-5.5s [%(name)s] %(message)s

[logger_root]
level = INFO
handlers = console
qualname =

[logger_sqlalchemy]
level = WARN
handlers = console
qualname = sqlalchemy.engine

[logger_alembic]
level = INFO
handlers = console
qualname = alembic